# Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ 100GB+ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

## ğŸ¯ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ: Ğ§Ñ‚Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ 100GB?

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ A: Ğ¤Ğ°Ğ¹Ğ»Ñ‹ (Ğ²Ğ¸Ğ´ĞµĞ¾, Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹, Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸) - 95GB
**Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**: 2-5GB (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸, Ğ¾Ñ†ĞµĞ½ĞºĞ¸, Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ)
**Ğ¤Ğ°Ğ¹Ğ»Ñ‹**: 95-100GB (Ğ²Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸, PDF, Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸)

âœ… **Ğ­Ñ‚Ğ¾ ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹**

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ B: Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… - 100GB
**Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**: 100GB (Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ñ‹ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹)
**Ğ¤Ğ°Ğ¹Ğ»Ñ‹**: Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ

âŒ ĞœĞ°Ğ»Ğ¾Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ ÑĞ»ÑƒÑ‡Ğ°Ñ, Ğ½Ğ¾ Ñ€Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ¼

---

## ğŸ’¾ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ A (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° "Hybrid Storage"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend (Vercel - FREE)          â”‚
â”‚   React + Upload to Cloudflare R2 direct   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Backend (Railway - $5-20/Ğ¼ĞµÑ)        â”‚
â”‚  Node.js + WebSockets + Auth + Metadata    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database (Ğ‘Ğ”)   â”‚      â”‚   Files (Ğ¤Ğ°Ğ¹Ğ»Ñ‹)      â”‚
â”‚  Supabase/Neon   â”‚      â”‚   Cloudflare R2      â”‚
â”‚  5-10GB          â”‚      â”‚   100GB              â”‚
â”‚  $25/Ğ¼ĞµÑ         â”‚      â”‚   $1.50/Ğ¼ĞµÑ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   CDN (Cloudflare)   â”‚
                          â”‚   Ğ Ğ°Ğ·Ğ´Ğ°Ñ‡Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²     â”‚
                          â”‚   Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ          â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ğ˜Ğ¢ĞĞ“Ğ: ~$26.50-46.50/Ğ¼ĞµÑ
```

### Ğ§Ñ‚Ğ¾ Ğ³Ğ´Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ:

**PostgreSQL Database (5-10GB):**
- âœ… ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ (users)
- âœ… Ğ“Ñ€ÑƒĞ¿Ğ¿Ñ‹ (groups)
- âœ… Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹ (students)
- âœ… ĞÑ†ĞµĞ½ĞºĞ¸ (grades)
- âœ… ĞŸĞ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ (attendance)
- âœ… Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ (schedules)
- âœ… **ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²** (file_metadata)
  - ID Ñ„Ğ°Ğ¹Ğ»Ğ°
  - URL Ğ² R2
  - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ
  - Ğ Ğ°Ğ·Ğ¼ĞµÑ€
  - Ğ”Ğ°Ñ‚Ğ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
  - ĞšÑ‚Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ğ»

**Cloudflare R2 (100GB):**
- âœ… Ğ’Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²
- âœ… PDF Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹
- âœ… ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ (PPT, Google Slides)
- âœ… Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
- âœ… Ğ”Ğ¾Ğ¼Ğ°ÑˆĞ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ²
- âœ… Ğ—Ğ°Ğ¿Ğ¸ÑĞ¸ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Cloudflare R2

#### 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ R2 Bucket

```bash
# Ğ—Ğ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ½Ğ° Cloudflare Dashboard
# R2 Object Storage â†’ Create bucket
# Ğ˜Ğ¼Ñ: student-materials
```

#### 2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ API Ñ‚Ğ¾ĞºĞµĞ½

```
R2 â†’ Manage R2 API Tokens â†’ Create API Token
Permissions: Object Read & Write
```

#### 3. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ AWS SDK (R2 ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼ Ñ S3)

```bash
cd backend
npm install @aws-sdk/client-s3 @aws-sdk/s3-request-presigner
```

#### 4. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ backend/src/services/storage.ts

```typescript
import { S3Client, PutObjectCommand, GetObjectCommand } from '@aws-sdk/client-s3';
import { getSignedUrl } from '@aws-sdk/s3-request-presigner';

const s3Client = new S3Client({
  region: 'auto',
  endpoint: process.env.R2_ENDPOINT, // https://account-id.r2.cloudflarestorage.com
  credentials: {
    accessKeyId: process.env.R2_ACCESS_KEY_ID,
    secretAccessKey: process.env.R2_SECRET_ACCESS_KEY,
  },
});

const BUCKET_NAME = 'student-materials';

export async function uploadFile(
  file: Buffer,
  fileName: string,
  contentType: string
): Promise<string> {
  const key = `${Date.now()}-${fileName}`;

  await s3Client.send(
    new PutObjectCommand({
      Bucket: BUCKET_NAME,
      Key: key,
      Body: file,
      ContentType: contentType,
    })
  );

  // ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ URL Ñ‡ĞµÑ€ĞµĞ· Cloudflare CDN
  return `https://cdn.yourdomain.com/${key}`;
}

export async function getDownloadUrl(key: string): Promise<string> {
  // Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ signed URL (expires in 1 hour)
  const command = new GetObjectCommand({
    Bucket: BUCKET_NAME,
    Key: key,
  });

  return await getSignedUrl(s3Client, command, { expiresIn: 3600 });
}
```

#### 5. API endpoint Ğ´Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```typescript
// backend/src/routes/files.ts
import multer from 'multer';
import { uploadFile } from '../services/storage';

const upload = multer({
  storage: multer.memoryStorage(),
  limits: { fileSize: 100 * 1024 * 1024 } // 100MB max
});

router.post('/upload', upload.single('file'), async (req, res) => {
  try {
    const file = req.file;
    if (!file) {
      return res.status(400).json({ error: 'No file uploaded' });
    }

    // Upload to R2
    const fileUrl = await uploadFile(
      file.buffer,
      file.originalname,
      file.mimetype
    );

    // Save metadata to PostgreSQL
    const fileMetadata = await prisma.fileMetadata.create({
      data: {
        fileName: file.originalname,
        fileUrl: fileUrl,
        fileSize: file.size,
        mimeType: file.mimetype,
        uploadedBy: req.user.id,
        groupId: req.body.groupId, // optional
      }
    });

    res.json(fileMetadata);
  } catch (error) {
    console.error('File upload error:', error);
    res.status(500).json({ error: 'Upload failed' });
  }
});
```

#### 6. Frontend upload ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚

```typescript
// frontend/src/components/FileUpload.tsx
import { useState } from 'react';
import { api } from '../services/api';

export function FileUpload({ groupId }: { groupId?: string }) {
  const [uploading, setUploading] = useState(false);
  const [progress, setProgress] = useState(0);

  const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (!file) return;

    const formData = new FormData();
    formData.append('file', file);
    if (groupId) formData.append('groupId', groupId);

    setUploading(true);

    try {
      const response = await fetch(
        `${import.meta.env.VITE_API_URL}/files/upload`,
        {
          method: 'POST',
          headers: {
            Authorization: `Bearer ${localStorage.getItem('token')}`,
          },
          body: formData,
        }
      );

      const data = await response.json();
      console.log('File uploaded:', data);
      alert('Ğ¤Ğ°Ğ¹Ğ» Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!');
    } catch (error) {
      console.error('Upload error:', error);
      alert('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸');
    } finally {
      setUploading(false);
    }
  };

  return (
    <div>
      <input
        type="file"
        onChange={handleUpload}
        disabled={uploading}
        accept="video/*,application/pdf,image/*,.ppt,.pptx"
      />
      {uploading && <div>Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°... {progress}%</div>}
    </div>
  );
}
```

### Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ² schema.prisma

```prisma
model FileMetadata {
  id          String   @id @default(uuid())
  fileName    String
  fileUrl     String   // URL in R2
  fileSize    Int      // bytes
  mimeType    String
  uploadedBy  String
  groupId     String?

  uploader    User     @relation(fields: [uploadedBy], references: [id])
  group       Group?   @relation(fields: [groupId], references: [id])

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([uploadedBy])
  @@index([groupId])
  @@map("file_metadata")
}
```

### Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ»Ñ 100GB Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

**Cloudflare R2:**
- Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ: $0.015/GB/Ğ¼ĞµÑ Ã— 100GB = **$1.50/Ğ¼ĞµÑ**
- Egress (ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ): **$0** (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾!)
- ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: 10M Class A Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾
- **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: ~$1.50-2/Ğ¼ĞµÑ**

**Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸:**
- AWS S3: $2.30/Ğ¼ĞµÑ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ + $9/100GB ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ = **$11.30/Ğ¼ĞµÑ**
- Supabase Storage: $0.021/GB Ã— 100GB = **$2.10/Ğ¼ĞµÑ** + bandwidth
- Backblaze B2: $0.006/GB Ã— 100GB = **$0.60/Ğ¼ĞµÑ** (Ñ‚Ğ¾Ğ¶Ğµ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾!)

---

## ğŸ’½ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ B (ĞµÑĞ»Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ 100GB Ğ² Ğ‘Ğ”)

### Ğ•ÑĞ»Ğ¸ Ñƒ Ğ²Ğ°Ñ Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ñ‹ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ Ğ² PostgreSQL:

**Ğ›ÑƒÑ‡ÑˆĞ¸Ğµ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹:**

1. **Neon PostgreSQL** - $69/Ğ¼ĞµÑ
   - 200GB Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾
   - Serverless autoscaling
   - Branch Ğ´Ğ»Ñ dev/staging
   - â­ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒÑ

2. **DigitalOcean Managed PostgreSQL** - $60/Ğ¼ĞµÑ
   - 2 CPU, 2GB RAM, 100GB SSD
   - Automatic backups
   - Connection pooling

3. **AWS RDS PostgreSQL** - $85/Ğ¼ĞµÑ
   - db.t3.small (2GB RAM)
   - 100GB storage
   - + $30 Ğ´Ğ»Ñ backups

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ‘Ğ”:

```sql
-- ĞŸĞ°Ñ€Ñ‚Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğ°Ğ¼
CREATE TABLE grades_2024 PARTITION OF grades
FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');

CREATE TABLE grades_2025 PARTITION OF grades
FOR VALUES FROM ('2025-01-01') TO ('2026-01-01');

-- ĞÑ€Ñ…Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
-- ĞŸĞµÑ€ĞµĞ¼ĞµÑÑ‚Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ Ğ¾Ñ†ĞµĞ½ĞºĞ¸ Ğ² Ğ´ĞµÑˆĞµĞ²ÑƒÑ Ğ‘Ğ”
```

**Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´:**
- **ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ‘Ğ”** (10-20GB): Supabase/Railway ($25/Ğ¼ĞµÑ)
  - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ³Ğ¾Ğ´
  - Ğ§Ğ°ÑÑ‚Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- **ĞÑ€Ñ…Ğ¸Ğ²Ğ½Ğ°Ñ Ğ‘Ğ”** (80GB): Cheap PostgreSQL ($15/Ğ¼ĞµÑ)
  - ĞŸÑ€Ğ¾ÑˆĞ»Ñ‹Ğµ Ğ³Ğ¾Ğ´Ñ‹
  - Ğ ĞµĞ´ĞºĞ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ
- **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: $40/Ğ¼ĞµÑ** Ğ²Ğ¼ĞµÑÑ‚Ğ¾ $69

---

## ğŸ“Š Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸

### Ğ”Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ (Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ĞµĞµ Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾):

```
Frontend: Vercel (FREE)
Backend: Railway ($5-20)
Database: Supabase Pro ($25) - 10GB
  â””â”€â”€ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸, Ğ¾Ñ†ĞµĞ½ĞºĞ¸, Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ
Files: Cloudflare R2 ($2) - 100GB
  â””â”€â”€ Ğ’Ğ¸Ğ´ĞµĞ¾, PDF, Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸
CDN: Cloudflare (FREE)
WebSockets: Socket.io Ğ½Ğ° Railway
Video Calls: Livekit ($0.01/Ğ¼Ğ¸Ğ½ Ğ¿Ñ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸)

Ğ˜Ğ¢ĞĞ“Ğ: $32-47/Ğ¼ĞµÑ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ
+ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ·Ğ²Ğ¾Ğ½ĞºĞ¸ Ğ¿Ğ¾ Ñ„Ğ°ĞºÑ‚Ñƒ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
```

### Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:

| Ğ¢Ğ¸Ğ¿ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | Ğ Ğ°Ğ·Ğ¼ĞµÑ€ | Ğ“Ğ´Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ | Ğ¦ĞµĞ½Ğ° |
|------------|--------|-------------|------|
| Users, Groups, Students | 100MB | PostgreSQL | $25 |
| Grades, Attendance | 2-5GB | PostgreSQL | Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ |
| Schedules, Lessons | 100MB | PostgreSQL | Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ |
| **ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²** | 50MB | PostgreSQL | Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ |
| **Ğ’Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸** | 70GB | R2 | $1.05 |
| **PDF Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹** | 20GB | R2 | $0.30 |
| **ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸** | 10GB | R2 | $0.15 |
| **Ğ˜Ğ¢ĞĞ“Ğ** | ~100GB | | **~$26.50/Ğ¼ĞµÑ** |

---

## ğŸš€ ĞŸĞ»Ğ°Ğ½ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

### Ğ­Ñ‚Ğ°Ğ¿ 1: ĞĞ½Ğ°Ğ»Ğ¸Ğ· (ÑĞµĞ¹Ñ‡Ğ°Ñ)
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ‘Ğ”
cd backend
npx prisma studio
# Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ĞµÑÑŒ Ğº Supabase Dashboard â†’ Database â†’ Tables

# ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
```

### Ğ­Ñ‚Ğ°Ğ¿ 2: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° R2 (1-2 Ñ‡Ğ°ÑĞ°)
1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Cloudflare R2 bucket
2. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ API Ñ‚Ğ¾ĞºĞµĞ½Ñ‹
3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ upload Ğ² backend
4. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ FileMetadata Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ² Prisma

### Ğ­Ñ‚Ğ°Ğ¿ 3: ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
1. Ğ•ÑĞ»Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¼Ğ°Ğ»Ğ¾ - Ğ¾ÑÑ‚Ğ°Ğ²Ğ°Ğ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° Supabase Storage
2. Ğ•ÑĞ»Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ - Ğ¿ĞµÑ€ĞµĞµĞ·Ğ¶Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ° R2
3. Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

### Ğ­Ñ‚Ğ°Ğ¿ 4: ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
- Ğ¡Ğ»ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ° Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾ Ğ¼ĞµÑ€Ğµ Ñ€Ğ¾ÑÑ‚Ğ°
- ĞÑ€Ñ…Ğ¸Ğ²Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

---

## ğŸ’° ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

### Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ¾Ñ†ĞµĞ½ĞºĞ°):
- Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ²: ____ Ã— 10KB = ____
- ĞÑ†ĞµĞ½Ğ¾Ğº Ğ² Ğ¼ĞµÑÑÑ†: ____ Ã— 1KB = ____
- Ğ’Ğ¸Ğ´ĞµĞ¾ Ğ² Ğ¼ĞµÑÑÑ†: ____ Ã— 500MB = ____
- PDF Ğ² Ğ¼ĞµÑÑÑ†: ____ Ã— 5MB = ____

### ĞŸÑ€Ğ¸ Ñ€Ğ¾ÑÑ‚Ğµ Ğ´Ğ¾ 1000 ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ²:
- Ğ‘Ğ”: ~15-20GB â†’ Supabase Pro $25 Ğ¸Ğ»Ğ¸ Neon $69
- Ğ¤Ğ°Ğ¹Ğ»Ñ‹: ~200-300GB â†’ R2 $3-4.50/Ğ¼ĞµÑ
- **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: $28-73/Ğ¼ĞµÑ**

---

## â“ Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

1. **Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒ Ğ² Ğ¼ĞµÑÑÑ†?**
   - 10 Ğ²Ğ¸Ğ´ĞµĞ¾ Ã— 500MB = 5GB â†’ $0.075/Ğ¼ĞµÑ
   - 100 Ğ²Ğ¸Ğ´ĞµĞ¾ Ã— 500MB = 50GB â†’ $0.75/Ğ¼ĞµÑ

2. **Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚Ğµ?**
   - 100 ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ² = ~5GB Ğ‘Ğ” â†’ Supabase Free/Pro
   - 1000+ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ² = ~20GB Ğ‘Ğ” â†’ Neon $69

3. **ĞÑƒĞ¶Ğ½Ñ‹ Ğ»Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ·Ğ²Ğ¾Ğ½ĞºĞ¸?**
   - Ğ”Ğ° â†’ Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Livekit
   - ĞĞµÑ‚ â†’ ÑĞºĞ¾Ğ½Ğ¾Ğ¼ÑŒÑ‚Ğµ

4. **Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸ ÑƒÑ€Ğ¾ĞºĞ¾Ğ²?**
   - Ğ”Ğ° â†’ Ğ½ÑƒĞ¶ĞµĞ½ R2
   - ĞĞµÑ‚ â†’ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¾Ğ±Ğ¾Ğ¹Ñ‚Ğ¸ÑÑŒ Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ğ¼

---

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾ Ñ â¤ï¸ Ğ¸ Claude Code
